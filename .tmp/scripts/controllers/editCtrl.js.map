{"version":3,"sources":["controllers/editCtrl.js"],"names":["angular","module","controller","editCtrl","$scope","alertify","commonSrv","$state","$stateParams","infoSrv","obj","common","info","init","key","getInfo","getRegister","data","name","nombre","charge","cargo","e","error","edit","_KEY","msg","success","go"],"mappings":"AAAA;;AACA,CAAC,UAASA,OAAT,EAAiB;AAChBA,UACGC,MADH,CACU,KADV,EAEGC,UAFH,CAEc,UAFd,EAE0B,CAAC,QAAD,EAAU,UAAV,EAAqB,WAArB,EAAkC,QAAlC,EAA4C,cAA5C,EAA2D,SAA3D,EAAsEC,QAAtE,CAF1B;;AAIE,WAASA,QAAT,CAAkBC,MAAlB,EAA0BC,QAA1B,EAAoCC,SAApC,EAA+CC,MAA/C,EAAuDC,YAAvD,EAAqEC,OAArE,EAA6E;AAC3E,UAAMC,MAAM,IAAZ;AAAA,UAAkBC,SAASL,SAA3B;AAAA,UAAsCM,OAAOH,OAA7C;;AAEA,aAASI,IAAT,GAAe;AACbH,UAAII,GAAJ,GAAUN,aAAaM,GAAvB;AACAJ,UAAIK,OAAJ,CAAYL,IAAII,GAAhB;AACD;;AAEDJ,QAAIK,OAAJ,GAAc,UAASD,GAAT,EAAa;AACzBF,WAAKI,WAAL,CAAiBF,GAAjB,EAAsB,UAASG,IAAT,EAAc;AAClCP,YAAIQ,IAAJ,GAAWD,KAAKE,MAAhB;AACAT,YAAIU,MAAJ,GAAaH,KAAKI,KAAlB;AAED,OAJD,EAIG,UAASC,CAAT,EAAW;AACZjB,iBAASkB,KAAT,CAAeD,CAAf;AACD,OAND;AAOD,KARD;;AAUAZ,QAAIc,IAAJ,GAAW,YAAU;AACnB,UAAIP,OAAO;AACTQ,cAAMf,IAAII,GADD;AAETK,gBAAQT,IAAIQ,IAFH;AAGTG,eAAOX,IAAIU;AAHF,OAAX;;AAMAR,WAAKY,IAAL,CAAUP,IAAV,EAAgB,UAASS,GAAT,EAAa;;AAE3BrB,iBAASsB,OAAT,CAAiB,kBAAjB;AACApB,eAAOqB,EAAP,CAAU,cAAV;AACD,OAJD,EAIG,UAASN,CAAT,EAAW;AACZjB,iBAASkB,KAAT,CAAeD,CAAf;AACD,OAND;AAQD,KAfD;;AAmBAT;AAED;AAEJ,CA9CD,EA8CGb,OA9CH","file":"editCtrl.js","sourcesContent":["'use strict';\n(function(angular){\n  angular\n    .module('sbx')\n    .controller('editCtrl', ['$scope','alertify','commonSrv', '$state', '$stateParams','infoSrv', editCtrl]);\n\n    function editCtrl($scope, alertify, commonSrv, $state, $stateParams, infoSrv){\n      const obj = this, common = commonSrv, info = infoSrv;\n\n      function init(){\n        obj.key = $stateParams.key;\n        obj.getInfo(obj.key);\n      }\n\n      obj.getInfo = function(key){\n        info.getRegister(key, function(data){\n          obj.name = data.nombre;\n          obj.charge = data.cargo;\n\n        }, function(e){\n          alertify.error(e);\n        });\n      };\n\n      obj.edit = function(){\n        let data = {\n          _KEY: obj.key,\n          nombre: obj.name,\n          cargo: obj.charge\n        }\n        \n        info.edit(data, function(msg){\n          \n          alertify.success('Registro editado')\n          $state.go('main.general');\n        }, function(e){\n          alertify.error(e);\n        });\n\n      };\n\n\n\n      init();\n\n    }\n\n})(angular);"]}