{"version":3,"sources":["controllers/generalCtrl.js"],"names":["angular","module","controller","generalCtrl","$scope","alertify","commonSrv","$state","$stateParams","infoSrv","obj","common","info","init","getInfo","get","data","items","e","error","save","nombre","name","cargo","charge","set","msg","success","edit","item","go","key","_KEY","delete","message"],"mappings":"AAAA;;AACA,CAAC,UAASA,OAAT,EAAiB;AAChBA,UACGC,MADH,CACU,KADV,EAEGC,UAFH,CAEc,aAFd,EAE6B,CAAC,QAAD,EAAU,UAAV,EAAqB,WAArB,EAAkC,QAAlC,EAA4C,cAA5C,EAA4D,SAA5D,EAAuEC,WAAvE,CAF7B;;AAIE,WAASA,WAAT,CAAqBC,MAArB,EAA6BC,QAA7B,EAAuCC,SAAvC,EAAkDC,MAAlD,EAA0DC,YAA1D,EAAwEC,OAAxE,EAAgF;AAC9E,UAAMC,MAAM,IAAZ;AAAA,UAAkBC,SAASL,SAA3B;AAAA,UAAsCM,OAAOH,OAA7C;;AAEA,aAASI,IAAT,GAAe;AACbH,UAAII,OAAJ;AACD;;AAED;;;AAGAJ,QAAII,OAAJ,GAAc,YAAU;AACtBF,WAAKG,GAAL,CAAS,UAASC,IAAT,EAAc;AACrBN,YAAIO,KAAJ,GAAYD,IAAZ;AACD,OAFD,EAEG,UAASE,CAAT,EAAW;AACZb,iBAASc,KAAT,CAAeD,CAAf;AACD,OAJD;AAKD,KAND;;AAQA;;;AAGAR,QAAIU,IAAJ,GAAW,YAAU;AACnB,UAAIJ,OAAO;AACTK,gBAAQX,IAAIY,IADH;AAETC,eAAOb,IAAIc;AAFF,OAAX;;AAKAZ,WAAKa,GAAL,CAAST,IAAT,EAAe,UAASU,GAAT,EAAa;AAC1BrB,iBAASsB,OAAT,CAAiBD,GAAjB;AACAhB,YAAIY,IAAJ,GAAW,IAAX;AACAZ,YAAIc,MAAJ,GAAa,IAAb;AACAd,YAAII,OAAJ;AACD,OALD,EAKE,UAASI,CAAT,EAAW;AAACb,iBAASc,KAAT,CAAeD,CAAf;AAAmB,OALjC;AAMD,KAZD;;AAcAR,QAAIkB,IAAJ,GAAW,UAASC,IAAT,EAAc;AACvBtB,aAAOuB,EAAP,CAAU,WAAV,EAAsB,EAACC,KAAKF,KAAKG,IAAX,EAAtB;AACD,KAFD;;AAIAtB,QAAIuB,MAAJ,GAAa,UAASJ,IAAT,EAAc;AACzBjB,WAAKqB,MAAL,CAAYJ,KAAKG,IAAjB,EAAuB,UAASE,OAAT,EAAiB;AACtC7B,iBAASsB,OAAT,CAAiB,gBAAjB;AACAjB,YAAII,OAAJ;AACD,OAHD,EAGG,UAASI,CAAT,EAAW;AACVb,iBAASc,KAAT,CAAeD,CAAf;AACH,OALD;AAMD,KAPD;;AAYAL;AAED;AAEJ,CA5DD,EA4DGb,OA5DH","file":"generalCtrl.js","sourcesContent":["'use strict';\n(function(angular){\n  angular\n    .module('sbx')\n    .controller('generalCtrl', ['$scope','alertify','commonSrv', '$state', '$stateParams', 'infoSrv', generalCtrl]);\n\n    function generalCtrl($scope, alertify, commonSrv, $state, $stateParams, infoSrv){\n      const obj = this, common = commonSrv, info = infoSrv;\n\n      function init(){\n        obj.getInfo();\n      }\n\n      /**\n       * @return {Array} - Retorna los resultados almacenados en la tabla de 'informacion'\n       */\n      obj.getInfo = function(){\n        info.get(function(data){\n          obj.items = data;\n        }, function(e){\n          alertify.error(e);\n        });\n      };\n\n      /**\n       * @return {message} - Retorna 'OK' si se agrego bien el registro\n       */\n      obj.save = function(){\n        let data = {\n          nombre: obj.name,\n          cargo: obj.charge\n        };\n\n        info.set(data, function(msg){\n          alertify.success(msg);\n          obj.name = null;\n          obj.charge = null;\n          obj.getInfo();\n        },function(e){alertify.error(e);});\n      }\n\n      obj.edit = function(item){\n        $state.go('main.edit',{key: item._KEY});\n      }\n\n      obj.delete = function(item){\n        info.delete(item._KEY, function(message){\n          alertify.success('Record borrado');\n          obj.getInfo();\n        }, function(e){\n            alertify.error(e);\n        });\n      }\n\n\n\n\n      init();\n\n    }\n\n})(angular);"]}